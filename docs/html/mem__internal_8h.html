<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libttak: internal/ttak/mem_internal.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libttak<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-performance Atomic, Threading, and Multi-precision Math Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('mem__internal_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">mem_internal.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Internal memory subsystem definitions and tiered allocator interfaces.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdatomic.h&gt;</code><br />
<code>#include &lt;<a class="el" href="pthread_8h_source.html">pthread.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="app__types_8h_source.html">../../internal/app_types.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="mem_8h_source.html">ttak/mem/mem.h</a>&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for mem_internal.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="mem__internal_8h__incl.png" border="0" usemap="#ainternal_2ttak_2mem__internal_8h" alt=""/></div>
<map name="ainternal_2ttak_2mem__internal_8h" id="ainternal_2ttak_2mem__internal_8h">
<area shape="rect" title="Internal memory subsystem definitions and tiered allocator interfaces." alt="" coords="245,5,454,31"/>
<area shape="rect" title=" " alt="" coords="5,240,80,265"/>
<area shape="poly" title=" " alt="" coords="256,33,198,51,170,64,144,81,111,115,85,154,66,194,53,228,48,226,61,192,80,152,107,111,141,77,167,59,196,46,255,28"/>
<area shape="rect" title=" " alt="" coords="105,240,175,265"/>
<area shape="poly" title=" " alt="" coords="255,33,209,51,189,64,171,80,151,115,141,154,138,193,139,226,134,226,133,193,136,154,146,113,167,77,186,60,207,46,253,28"/>
<area shape="rect" title=" " alt="" coords="311,240,393,265"/>
<area shape="poly" title=" " alt="" coords="360,29,397,85,417,124,432,166,435,180,432,193,413,217,390,235,387,231,410,214,427,191,430,180,427,167,412,126,393,88,356,32"/>
<area shape="rect" title=" " alt="" coords="543,240,641,265"/>
<area shape="poly" title=" " alt="" coords="374,28,411,49,450,77,489,115,526,156,579,227,574,230,521,159,486,119,446,81,408,54,372,33"/>
<area shape="rect" href="pthread_8h.html" title="POSIX thread compatibility shim." alt="" coords="418,240,502,265"/>
<area shape="poly" title=" " alt="" coords="370,29,397,49,422,77,441,115,453,155,462,226,457,226,448,156,437,117,418,80,393,53,366,33"/>
<area shape="rect" href="app__types_8h.html" title=" " alt="" coords="182,79,306,119"/>
<area shape="poly" title=" " alt="" coords="335,33,282,73,279,68,332,29"/>
<area shape="rect" href="mem_8h.html" title="TTAK Unified Memory Subsystem with Lifecycle Management and Hardware Optimization." alt="" coords="281,167,417,192"/>
<area shape="poly" title=" " alt="" coords="352,31,352,153,347,153,347,31"/>
<area shape="poly" title=" " alt="" coords="221,121,71,234,68,229,217,117"/>
<area shape="poly" title=" " alt="" coords="233,121,158,230,154,227,229,118"/>
<area shape="poly" title=" " alt="" coords="248,118,255,154,272,191,293,213,317,231,314,235,289,217,267,193,250,155,243,119"/>
<area shape="poly" title=" " alt="" coords="307,106,371,126,403,143,431,165,450,194,459,226,454,227,445,197,427,168,400,147,369,131,305,111"/>
<area shape="rect" title=" " alt="" coords="199,240,286,265"/>
<area shape="poly" title=" " alt="" coords="239,120,230,153,228,192,236,226,231,227,223,192,224,152,234,118"/>
<area shape="poly" title=" " alt="" coords="271,117,324,156,321,160,268,121"/>
<area shape="poly" title=" " alt="" coords="301,195,94,242,93,237,299,189"/>
<area shape="poly" title=" " alt="" coords="317,195,188,238,186,233,315,189"/>
<area shape="poly" title=" " alt="" coords="352,192,354,226,348,227,347,192"/>
<area shape="poly" title=" " alt="" coords="389,189,541,234,539,239,388,195"/>
<area shape="poly" title=" " alt="" coords="369,190,432,230,429,235,366,194"/>
<area shape="poly" title=" " alt="" coords="334,194,273,235,270,230,331,190"/>
</map>
</div>
</div>
<p><a href="mem__internal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structttak__mem__friction__matrix__t.html">ttak_mem_friction_matrix_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Matrix for tracking memory pressure and "Mechanical Damping".  <a href="structttak__mem__friction__matrix__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structttak__mem__pocket__freelist.html">ttak_mem_pocket_freelist</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple LIFO freelist for thread-local blocks.  <a href="structttak__mem__pocket__freelist.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structttak__mem__vma__region.html">ttak_mem_vma_region</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linear virtual mapping area for lock-free bump allocation.  <a href="structttak__mem__vma__region.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structttak__slab__t.html">ttak_slab_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Metadata for Slab vanguard (64KB - 512KB Dynamic Path).  <a href="structttak__slab__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a79e6ab9372fcc255fb4075c4ed8857dd" id="r_a79e6ab9372fcc255fb4075c4ed8857dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a79e6ab9372fcc255fb4075c4ed8857dd">TTAK_UNLIKELY</a>(x)&#160;&#160;&#160;__builtin_expect(!!(x), 0)</td></tr>
<tr class="separator:a79e6ab9372fcc255fb4075c4ed8857dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2398e4bc6e13be162959e6418b48ad9b" id="r_a2398e4bc6e13be162959e6418b48ad9b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a2398e4bc6e13be162959e6418b48ad9b">POCKET_MAGIC</a>&#160;&#160;&#160;0x80C4E700</td></tr>
<tr class="separator:a2398e4bc6e13be162959e6418b48ad9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48534a142d77bccefdcd20ae71d4777e" id="r_a48534a142d77bccefdcd20ae71d4777e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a48534a142d77bccefdcd20ae71d4777e">SLAB_MAGIC</a>&#160;&#160;&#160;0x51ABCA5E</td></tr>
<tr class="separator:a48534a142d77bccefdcd20ae71d4777e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad923ad1117b87a296109d5ed8b2b0ecf" id="r_ad923ad1117b87a296109d5ed8b2b0ecf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#ad923ad1117b87a296109d5ed8b2b0ecf">TTAK_FP_ONE</a>&#160;&#160;&#160;(1 &lt;&lt; 16)</td></tr>
<tr class="separator:ad923ad1117b87a296109d5ed8b2b0ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a001ec8a1869c8ce91a283e742ff056a2" id="r_a001ec8a1869c8ce91a283e742ff056a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a001ec8a1869c8ce91a283e742ff056a2">TTAK_FP_FROM_INT</a>(val)&#160;&#160;&#160;((<a class="el" href="mem__internal_8h.html#aa52f0af3a2626d67b61777a1504a4415">ttak_fixed_16_16_t</a>)(val) &lt;&lt; 16)</td></tr>
<tr class="separator:a001ec8a1869c8ce91a283e742ff056a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69e122ba63345025fa7bd742fc502e22" id="r_a69e122ba63345025fa7bd742fc502e22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a69e122ba63345025fa7bd742fc502e22">TTAK_FP_TO_INT</a>(val)&#160;&#160;&#160;((val) &gt;&gt; 16)</td></tr>
<tr class="separator:a69e122ba63345025fa7bd742fc502e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8458ee8fa183292861fb996885599add" id="r_a8458ee8fa183292861fb996885599add"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a8458ee8fa183292861fb996885599add">TTAK_FP_MUL</a>(a,  b)&#160;&#160;&#160;(((int64_t)(a) * (b)) &gt;&gt; 16)</td></tr>
<tr class="separator:a8458ee8fa183292861fb996885599add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a9e97ecd3599442ae8c393732eec240" id="r_a8a9e97ecd3599442ae8c393732eec240"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a8a9e97ecd3599442ae8c393732eec240">TTAK_FP_DIV</a>(a,  b)&#160;&#160;&#160;(((int64_t)(a) &lt;&lt; 16) / (b))</td></tr>
<tr class="separator:a8a9e97ecd3599442ae8c393732eec240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d7f42e54833cbd413fa059f040e9455" id="r_a1d7f42e54833cbd413fa059f040e9455"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a1d7f42e54833cbd413fa059f040e9455">TTAK_POCKET_PAGE_SIZE</a>&#160;&#160;&#160;4096</td></tr>
<tr class="separator:a1d7f42e54833cbd413fa059f040e9455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a453bdb33e06b4275bdc24e123cc01c0f" id="r_a453bdb33e06b4275bdc24e123cc01c0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a453bdb33e06b4275bdc24e123cc01c0f">TTAK_POCKET_ALIGNMENT</a>&#160;&#160;&#160;4096</td></tr>
<tr class="separator:a453bdb33e06b4275bdc24e123cc01c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10254fab4ae3ccc752ddcf5ca91a9803" id="r_a10254fab4ae3ccc752ddcf5ca91a9803"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a10254fab4ae3ccc752ddcf5ca91a9803">TTAK_NUM_POCKET_FREELISTS</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a10254fab4ae3ccc752ddcf5ca91a9803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ac651bb471a64ef8d6448811eb129ac" id="r_a8ac651bb471a64ef8d6448811eb129ac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a8ac651bb471a64ef8d6448811eb129ac">TTAK_VMA_REGION_SIZE</a>&#160;&#160;&#160;(16 * 1024 * 1024)</td></tr>
<tr class="separator:a8ac651bb471a64ef8d6448811eb129ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb3ddaa78d345560fe8626105cf6084" id="r_a2bb3ddaa78d345560fe8626105cf6084"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a2bb3ddaa78d345560fe8626105cf6084">TTAK_VMA_ALIGNMENT</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a2bb3ddaa78d345560fe8626105cf6084"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa52f0af3a2626d67b61777a1504a4415" id="r_aa52f0af3a2626d67b61777a1504a4415"><td class="memItemLeft" align="right" valign="top">typedef int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#aa52f0af3a2626d67b61777a1504a4415">ttak_fixed_16_16_t</a></td></tr>
<tr class="memdesc:aa52f0af3a2626d67b61777a1504a4415"><td class="mdescLeft">&#160;</td><td class="mdescRight">16.16 Fixed-point type for friction calculation.  <br /></td></tr>
<tr class="separator:aa52f0af3a2626d67b61777a1504a4415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574c320689c9aed0ca6559697013d05a" id="r_a574c320689c9aed0ca6559697013d05a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a574c320689c9aed0ca6559697013d05a">ttak_mem_header_t</a></td></tr>
<tr class="separator:a574c320689c9aed0ca6559697013d05a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43b32a954757220aaa62ba3c6ecca77" id="r_af43b32a954757220aaa62ba3c6ecca77"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structttak__mem__pocket__freelist.html">ttak_mem_pocket_freelist</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#af43b32a954757220aaa62ba3c6ecca77">ttak_mem_pocket_freelist_t</a></td></tr>
<tr class="separator:af43b32a954757220aaa62ba3c6ecca77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c76dcfc177f693f5fbfed57f4ce0bb2" id="r_a6c76dcfc177f693f5fbfed57f4ce0bb2"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structttak__mem__vma__region.html">ttak_mem_vma_region</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a6c76dcfc177f693f5fbfed57f4ce0bb2">ttak_mem_vma_region_t</a></td></tr>
<tr class="separator:a6c76dcfc177f693f5fbfed57f4ce0bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9967ba62776d96bb9a96f0a376d704fe" id="r_a9967ba62776d96bb9a96f0a376d704fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a9967ba62776d96bb9a96f0a376d704fe">ttak_mem_pocket_alloc_internal</a> (size_t user_requested_size)</td></tr>
<tr class="memdesc:a9967ba62776d96bb9a96f0a376d704fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates from the thread-local pocket tier.  <br /></td></tr>
<tr class="separator:a9967ba62776d96bb9a96f0a376d704fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a937a888cc086072386c71a0b33730cfa" id="r_a937a888cc086072386c71a0b33730cfa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a937a888cc086072386c71a0b33730cfa">_pocket_free_internal</a> (<a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> *header)</td></tr>
<tr class="memdesc:a937a888cc086072386c71a0b33730cfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a header back to the thread-local pocket.  <br /></td></tr>
<tr class="separator:a937a888cc086072386c71a0b33730cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95874d8ac4b29ed22519a033552df2f6" id="r_a95874d8ac4b29ed22519a033552df2f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a95874d8ac4b29ed22519a033552df2f6">ttak_mem_vma_alloc_internal</a> (size_t user_requested_size)</td></tr>
<tr class="memdesc:a95874d8ac4b29ed22519a033552df2f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates from the lock-free VMA tier.  <br /></td></tr>
<tr class="separator:a95874d8ac4b29ed22519a033552df2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b066948cc18c92697707a2d014eb0d" id="r_a03b066948cc18c92697707a2d014eb0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a03b066948cc18c92697707a2d014eb0d">_vma_free_internal</a> (<a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> *header)</td></tr>
<tr class="memdesc:a03b066948cc18c92697707a2d014eb0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release VMA allocation (currently no-op for linear allocator).  <br /></td></tr>
<tr class="separator:a03b066948cc18c92697707a2d014eb0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8abad2af668cdec241ddf164f6f2f152" id="r_a8abad2af668cdec241ddf164f6f2f152"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a8abad2af668cdec241ddf164f6f2f152">_vma_alloc_linear</a> (size_t size)</td></tr>
<tr class="memdesc:a8abad2af668cdec241ddf164f6f2f152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raw linear VMA allocator (internal use).  <br /></td></tr>
<tr class="separator:a8abad2af668cdec241ddf164f6f2f152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a777accb0ca5bba4e0291b1902778a095" id="r_a777accb0ca5bba4e0291b1902778a095"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a777accb0ca5bba4e0291b1902778a095">_slab_alloc_rectified</a> (size_t user_requested_size)</td></tr>
<tr class="memdesc:a777accb0ca5bba4e0291b1902778a095"><td class="mdescLeft">&#160;</td><td class="mdescRight">Slab rectified allocator (Dynamic path).  <br /></td></tr>
<tr class="separator:a777accb0ca5bba4e0291b1902778a095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf2ff6638f6d6b4351ec093ca2d6de4c" id="r_aaf2ff6638f6d6b4351ec093ca2d6de4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#aaf2ff6638f6d6b4351ec093ca2d6de4c">_slab_free_internal</a> (<a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> *header, uintptr_t slab_page_start_addr)</td></tr>
<tr class="memdesc:aaf2ff6638f6d6b4351ec093ca2d6de4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns slab block to pool.  <br /></td></tr>
<tr class="separator:aaf2ff6638f6d6b4351ec093ca2d6de4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a412d07726f648de60cf44fc039dadb29" id="r_a412d07726f648de60cf44fc039dadb29"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a412d07726f648de60cf44fc039dadb29">get_pocket_size_class_idx</a> (size_t total_block_size)</td></tr>
<tr class="memdesc:a412d07726f648de60cf44fc039dadb29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps a total block size to a pocket freelist index.  <br /></td></tr>
<tr class="separator:a412d07726f648de60cf44fc039dadb29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae342f8cc558efdfaa89d03a462132edd" id="r_ae342f8cc558efdfaa89d03a462132edd"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#ae342f8cc558efdfaa89d03a462132edd">get_total_block_size_for_freelist</a> (int idx)</td></tr>
<tr class="memdesc:ae342f8cc558efdfaa89d03a462132edd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total block size for a given pocket index.  <br /></td></tr>
<tr class="separator:ae342f8cc558efdfaa89d03a462132edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a65ce8794ebbfc56397e402f7da0eb8ad" id="r_a65ce8794ebbfc56397e402f7da0eb8ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="app__types_8h.html#a75cdd26ec56c06d5e1abe50b17a8f837">TTAK_THREAD_LOCAL</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a65ce8794ebbfc56397e402f7da0eb8ad">t_reentrancy_guard</a></td></tr>
<tr class="memdesc:a65ce8794ebbfc56397e402f7da0eb8ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reentrancy guard to prevent recursive calls during boot/allocation. Defined in mem.c.  <br /></td></tr>
<tr class="separator:a65ce8794ebbfc56397e402f7da0eb8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01418a27cc1879ab847f8bb8a395dc47" id="r_a01418a27cc1879ab847f8bb8a395dc47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structttak__mem__friction__matrix__t.html">ttak_mem_friction_matrix_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a01418a27cc1879ab847f8bb8a395dc47">global_friction_matrix</a></td></tr>
<tr class="memdesc:a01418a27cc1879ab847f8bb8a395dc47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global friction matrix instance. Defined in mem.c.  <br /></td></tr>
<tr class="separator:a01418a27cc1879ab847f8bb8a395dc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9f426693a9a72a5154cfe22137dfbc" id="r_aba9f426693a9a72a5154cfe22137dfbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="app__types_8h.html#a75cdd26ec56c06d5e1abe50b17a8f837">TTAK_THREAD_LOCAL</a> <a class="el" href="mem__internal_8h.html#af43b32a954757220aaa62ba3c6ecca77">ttak_mem_pocket_freelist_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#aba9f426693a9a72a5154cfe22137dfbc">ttak_pocket_freelists</a> [<a class="el" href="mem__internal_8h.html#a10254fab4ae3ccc752ddcf5ca91a9803">TTAK_NUM_POCKET_FREELISTS</a>]</td></tr>
<tr class="memdesc:aba9f426693a9a72a5154cfe22137dfbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread-local pocket freelists. Defined in ttak_mem_pocket.c.  <br /></td></tr>
<tr class="separator:aba9f426693a9a72a5154cfe22137dfbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a786e428521881ef54ae52854d0b18b5e" id="r_a786e428521881ef54ae52854d0b18b5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mem__internal_8h.html#a6c76dcfc177f693f5fbfed57f4ce0bb2">ttak_mem_vma_region_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mem__internal_8h.html#a786e428521881ef54ae52854d0b18b5e">global_vma_region</a></td></tr>
<tr class="memdesc:a786e428521881ef54ae52854d0b18b5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global VMA region instance. Defined in ttak_mem_vma.c.  <br /></td></tr>
<tr class="separator:a786e428521881ef54ae52854d0b18b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Internal memory subsystem definitions and tiered allocator interfaces. </p>
<p>This file contains declarations for internal allocator modules (Pocket, VMA, Slab) and shared reentrancy/friction guards used across the TTAK memory implementation. </p>

<p class="definition">Definition in file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2398e4bc6e13be162959e6418b48ad9b" name="a2398e4bc6e13be162959e6418b48ad9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2398e4bc6e13be162959e6418b48ad9b">&#9670;&#160;</a></span>POCKET_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POCKET_MAGIC&#160;&#160;&#160;0x80C4E700</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Base magic for 4KB pocket pages (Lower bits: freelist_idx) </p>

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00025">25</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a48534a142d77bccefdcd20ae71d4777e" name="a48534a142d77bccefdcd20ae71d4777e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48534a142d77bccefdcd20ae71d4777e">&#9670;&#160;</a></span>SLAB_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SLAB_MAGIC&#160;&#160;&#160;0x51ABCA5E</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Magic for Slab pages </p>

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00026">26</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a8a9e97ecd3599442ae8c393732eec240" name="a8a9e97ecd3599442ae8c393732eec240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a9e97ecd3599442ae8c393732eec240">&#9670;&#160;</a></span>TTAK_FP_DIV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TTAK_FP_DIV</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((int64_t)(a) &lt;&lt; 16) / (b))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00044">44</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a001ec8a1869c8ce91a283e742ff056a2" name="a001ec8a1869c8ce91a283e742ff056a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a001ec8a1869c8ce91a283e742ff056a2">&#9670;&#160;</a></span>TTAK_FP_FROM_INT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TTAK_FP_FROM_INT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="mem__internal_8h.html#aa52f0af3a2626d67b61777a1504a4415">ttak_fixed_16_16_t</a>)(val) &lt;&lt; 16)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00041">41</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a8458ee8fa183292861fb996885599add" name="a8458ee8fa183292861fb996885599add"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8458ee8fa183292861fb996885599add">&#9670;&#160;</a></span>TTAK_FP_MUL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TTAK_FP_MUL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((int64_t)(a) * (b)) &gt;&gt; 16)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00043">43</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="ad923ad1117b87a296109d5ed8b2b0ecf" name="ad923ad1117b87a296109d5ed8b2b0ecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad923ad1117b87a296109d5ed8b2b0ecf">&#9670;&#160;</a></span>TTAK_FP_ONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TTAK_FP_ONE&#160;&#160;&#160;(1 &lt;&lt; 16)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00040">40</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a69e122ba63345025fa7bd742fc502e22" name="a69e122ba63345025fa7bd742fc502e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69e122ba63345025fa7bd742fc502e22">&#9670;&#160;</a></span>TTAK_FP_TO_INT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TTAK_FP_TO_INT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">val</td><td>)</td>
          <td>&#160;&#160;&#160;((val) &gt;&gt; 16)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00042">42</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a10254fab4ae3ccc752ddcf5ca91a9803" name="a10254fab4ae3ccc752ddcf5ca91a9803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10254fab4ae3ccc752ddcf5ca91a9803">&#9670;&#160;</a></span>TTAK_NUM_POCKET_FREELISTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TTAK_NUM_POCKET_FREELISTS&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00068">68</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a453bdb33e06b4275bdc24e123cc01c0f" name="a453bdb33e06b4275bdc24e123cc01c0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a453bdb33e06b4275bdc24e123cc01c0f">&#9670;&#160;</a></span>TTAK_POCKET_ALIGNMENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TTAK_POCKET_ALIGNMENT&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00067">67</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a1d7f42e54833cbd413fa059f040e9455" name="a1d7f42e54833cbd413fa059f040e9455"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d7f42e54833cbd413fa059f040e9455">&#9670;&#160;</a></span>TTAK_POCKET_PAGE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TTAK_POCKET_PAGE_SIZE&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00066">66</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a79e6ab9372fcc255fb4075c4ed8857dd" name="a79e6ab9372fcc255fb4075c4ed8857dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79e6ab9372fcc255fb4075c4ed8857dd">&#9670;&#160;</a></span>TTAK_UNLIKELY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TTAK_UNLIKELY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;__builtin_expect(!!(x), 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00021">21</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a2bb3ddaa78d345560fe8626105cf6084" name="a2bb3ddaa78d345560fe8626105cf6084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb3ddaa78d345560fe8626105cf6084">&#9670;&#160;</a></span>TTAK_VMA_ALIGNMENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TTAK_VMA_ALIGNMENT&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00086">86</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a8ac651bb471a64ef8d6448811eb129ac" name="a8ac651bb471a64ef8d6448811eb129ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ac651bb471a64ef8d6448811eb129ac">&#9670;&#160;</a></span>TTAK_VMA_REGION_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TTAK_VMA_REGION_SIZE&#160;&#160;&#160;(16 * 1024 * 1024)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00085">85</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aa52f0af3a2626d67b61777a1504a4415" name="aa52f0af3a2626d67b61777a1504a4415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa52f0af3a2626d67b61777a1504a4415">&#9670;&#160;</a></span>ttak_fixed_16_16_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mem__internal_8h.html#aa52f0af3a2626d67b61777a1504a4415">ttak_fixed_16_16_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>16.16 Fixed-point type for friction calculation. </p>

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00038">38</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a574c320689c9aed0ca6559697013d05a" name="a574c320689c9aed0ca6559697013d05a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a574c320689c9aed0ca6559697013d05a">&#9670;&#160;</a></span>ttak_mem_header_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> <a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00063">63</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="af43b32a954757220aaa62ba3c6ecca77" name="af43b32a954757220aaa62ba3c6ecca77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af43b32a954757220aaa62ba3c6ecca77">&#9670;&#160;</a></span>ttak_mem_pocket_freelist_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structttak__mem__pocket__freelist.html">ttak_mem_pocket_freelist</a> <a class="el" href="mem__internal_8h.html#af43b32a954757220aaa62ba3c6ecca77">ttak_mem_pocket_freelist_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6c76dcfc177f693f5fbfed57f4ce0bb2" name="a6c76dcfc177f693f5fbfed57f4ce0bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c76dcfc177f693f5fbfed57f4ce0bb2">&#9670;&#160;</a></span>ttak_mem_vma_region_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structttak__mem__vma__region.html">ttak_mem_vma_region</a> <a class="el" href="mem__internal_8h.html#a6c76dcfc177f693f5fbfed57f4ce0bb2">ttak_mem_vma_region_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a937a888cc086072386c71a0b33730cfa" name="a937a888cc086072386c71a0b33730cfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a937a888cc086072386c71a0b33730cfa">&#9670;&#160;</a></span>_pocket_free_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _pocket_free_internal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a header back to the thread-local pocket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>Header to return. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a777accb0ca5bba4e0291b1902778a095" name="a777accb0ca5bba4e0291b1902778a095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a777accb0ca5bba4e0291b1902778a095">&#9670;&#160;</a></span>_slab_alloc_rectified()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> * _slab_alloc_rectified </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>user_requested_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Slab rectified allocator (Dynamic path). </p>

</div>
</div>
<a id="aaf2ff6638f6d6b4351ec093ca2d6de4c" name="aaf2ff6638f6d6b4351ec093ca2d6de4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf2ff6638f6d6b4351ec093ca2d6de4c">&#9670;&#160;</a></span>_slab_free_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _slab_free_internal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>slab_page_start_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns slab block to pool. </p>

</div>
</div>
<a id="a8abad2af668cdec241ddf164f6f2f152" name="a8abad2af668cdec241ddf164f6f2f152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8abad2af668cdec241ddf164f6f2f152">&#9670;&#160;</a></span>_vma_alloc_linear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * _vma_alloc_linear </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Raw linear VMA allocator (internal use). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Total bytes to allocate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Start pointer. </dd></dl>

</div>
</div>
<a id="a03b066948cc18c92697707a2d014eb0d" name="a03b066948cc18c92697707a2d014eb0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03b066948cc18c92697707a2d014eb0d">&#9670;&#160;</a></span>_vma_free_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _vma_free_internal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release VMA allocation (currently no-op for linear allocator). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>Header to release. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a412d07726f648de60cf44fc039dadb29" name="a412d07726f648de60cf44fc039dadb29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a412d07726f648de60cf44fc039dadb29">&#9670;&#160;</a></span>get_pocket_size_class_idx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int get_pocket_size_class_idx </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>total_block_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maps a total block size to a pocket freelist index. </p>

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00164">164</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="ae342f8cc558efdfaa89d03a462132edd" name="ae342f8cc558efdfaa89d03a462132edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae342f8cc558efdfaa89d03a462132edd">&#9670;&#160;</a></span>get_total_block_size_for_freelist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t get_total_block_size_for_freelist </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the total block size for a given pocket index. </p>

<p class="definition">Definition at line <a class="el" href="mem__internal_8h_source.html#l00173">173</a> of file <a class="el" href="mem__internal_8h_source.html">mem_internal.h</a>.</p>

</div>
</div>
<a id="a9967ba62776d96bb9a96f0a376d704fe" name="a9967ba62776d96bb9a96f0a376d704fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9967ba62776d96bb9a96f0a376d704fe">&#9670;&#160;</a></span>ttak_mem_pocket_alloc_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> * ttak_mem_pocket_alloc_internal </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>user_requested_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates from the thread-local pocket tier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_requested_size</td><td>Size requested by user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Allocated header, or NULL. </dd></dl>

</div>
</div>
<a id="a95874d8ac4b29ed22519a033552df2f6" name="a95874d8ac4b29ed22519a033552df2f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95874d8ac4b29ed22519a033552df2f6">&#9670;&#160;</a></span>ttak_mem_vma_alloc_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structttak__mem__header__t.html">ttak_mem_header_t</a> * ttak_mem_vma_alloc_internal </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>user_requested_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates from the lock-free VMA tier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_requested_size</td><td>Size requested by user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Allocated header, or NULL. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a01418a27cc1879ab847f8bb8a395dc47" name="a01418a27cc1879ab847f8bb8a395dc47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01418a27cc1879ab847f8bb8a395dc47">&#9670;&#160;</a></span>global_friction_matrix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structttak__mem__friction__matrix__t.html">ttak_mem_friction_matrix_t</a> global_friction_matrix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global friction matrix instance. Defined in mem.c. </p>

</div>
</div>
<a id="a786e428521881ef54ae52854d0b18b5e" name="a786e428521881ef54ae52854d0b18b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a786e428521881ef54ae52854d0b18b5e">&#9670;&#160;</a></span>global_vma_region</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mem__internal_8h.html#a6c76dcfc177f693f5fbfed57f4ce0bb2">ttak_mem_vma_region_t</a> global_vma_region</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global VMA region instance. Defined in ttak_mem_vma.c. </p>

</div>
</div>
<a id="a65ce8794ebbfc56397e402f7da0eb8ad" name="a65ce8794ebbfc56397e402f7da0eb8ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65ce8794ebbfc56397e402f7da0eb8ad">&#9670;&#160;</a></span>t_reentrancy_guard</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="app__types_8h.html#a75cdd26ec56c06d5e1abe50b17a8f837">TTAK_THREAD_LOCAL</a> bool t_reentrancy_guard</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reentrancy guard to prevent recursive calls during boot/allocation. Defined in mem.c. </p>

</div>
</div>
<a id="aba9f426693a9a72a5154cfe22137dfbc" name="aba9f426693a9a72a5154cfe22137dfbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba9f426693a9a72a5154cfe22137dfbc">&#9670;&#160;</a></span>ttak_pocket_freelists</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="app__types_8h.html#a75cdd26ec56c06d5e1abe50b17a8f837">TTAK_THREAD_LOCAL</a> <a class="el" href="mem__internal_8h.html#af43b32a954757220aaa62ba3c6ecca77">ttak_mem_pocket_freelist_t</a> ttak_pocket_freelists[<a class="el" href="mem__internal_8h.html#a10254fab4ae3ccc752ddcf5ca91a9803">TTAK_NUM_POCKET_FREELISTS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thread-local pocket freelists. Defined in ttak_mem_pocket.c. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_7374381ecdb819c64ee9b6ea2bd3370d.html">internal</a></li><li class="navelem"><a class="el" href="dir_a05405876577c25f35ba0b31702c61ce.html">ttak</a></li><li class="navelem"><a class="el" href="mem__internal_8h.html">mem_internal.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
