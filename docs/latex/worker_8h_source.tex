\doxysection{worker.\+h}
\hypertarget{worker_8h_source}{}\label{worker_8h_source}\index{include/ttak/thread/worker.h@{include/ttak/thread/worker.h}}
\mbox{\hyperlink{worker_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00001}00001\ \textcolor{preprocessor}{\#ifndef\ TTAK\_THREAD\_WORKER\_H}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00002}00002\ \textcolor{preprocessor}{\#define\ TTAK\_THREAD\_WORKER\_H}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{pthread_8h}{pthread.h}}>}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <setjmp.h>}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00006}00006\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00007}00007\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{promise_8h}{ttak/async/promise.h}}>}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00009}\mbox{\hyperlink{worker_8h_a3cd30f2c4e30576065ee8e7347240afc}{00009}}\ \textcolor{preprocessor}{\#define\ TTAK\_ERR\_JOIN\_FAILED\ \ \ \ \ -\/101}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00010}\mbox{\hyperlink{worker_8h_a2f35c31672151f0fb0cd32d74ee03cd7}{00010}}\ \textcolor{preprocessor}{\#define\ TTAK\_ERR\_SHUTDOWN\_RETRY\ \ -\/102}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00011}\mbox{\hyperlink{worker_8h_abf4f2175a2fdbc6712b1929ef8078d8d}{00011}}\ \textcolor{preprocessor}{\#define\ TTAK\_ERR\_FATAL\_EXIT\ \ \ \ \ \ -\/103}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00013}\mbox{\hyperlink{structttak__worker__wrapper}{00013}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structttak__worker__wrapper}{ttak\_worker\_wrapper}}\ \{}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00014}00014\ \textcolor{preprocessor}{\#ifdef\ \_WIN32}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00015}00015\ \ \ \ \ jmp\_buf\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structttak__worker__wrapper_ad55018e9a078d4985fb32c0a47357869}{env}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00016}00016\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00017}\mbox{\hyperlink{structttak__worker__wrapper_ad55018e9a078d4985fb32c0a47357869}{00017}}\ \ \ \ \ sigjmp\_buf\ \ \ \ \ \ \mbox{\hyperlink{structttak__worker__wrapper_ad55018e9a078d4985fb32c0a47357869}{env}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00018}00018\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00019}\mbox{\hyperlink{structttak__worker__wrapper_a13cb944f649c9617f5dbb9bb2b0f3cd7}{00019}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ *(*func)(\textcolor{keywordtype}{void}\ *);}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00020}\mbox{\hyperlink{structttak__worker__wrapper_a633e8fb8c8e9dc0e4ce10329574dc484}{00020}}\ \ \ \ \ \textcolor{keywordtype}{void}\ \ \ \ \ \ \ \ \ \ \ \ *\mbox{\hyperlink{structttak__worker__wrapper_a633e8fb8c8e9dc0e4ce10329574dc484}{arg}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00021}\mbox{\hyperlink{structttak__worker__wrapper_ac9fe79d88ef76f3726f154afac405ad1}{00021}}\ \ \ \ \ \mbox{\hyperlink{structttak__promise}{ttak\_promise\_t}}\ \ *\mbox{\hyperlink{structttak__worker__wrapper_ac9fe79d88ef76f3726f154afac405ad1}{promise}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00022}\mbox{\hyperlink{structttak__worker__wrapper_a36bdb7cda1461109b9fad24eef3338a3}{00022}}\ \ \ \ \ uint64\_t\ \ \ \ \ \ \ \ \mbox{\hyperlink{structttak__worker__wrapper_a36bdb7cda1461109b9fad24eef3338a3}{ts}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00023}\mbox{\hyperlink{structttak__worker__wrapper_abc393ca82fa50e83f842a56446f5f4fb}{00023}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structttak__worker__wrapper_abc393ca82fa50e83f842a56446f5f4fb}{nice\_val}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00024}\mbox{\hyperlink{structttak__worker__wrapper_a094a40e38f0008ac4782e0ab965f9fdb}{00024}}\ \ \ \ \ \textcolor{keyword}{volatile}\ uint64\_t\ \mbox{\hyperlink{structttak__worker__wrapper_a094a40e38f0008ac4782e0ab965f9fdb}{jmp\_magic}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00025}\mbox{\hyperlink{structttak__worker__wrapper_ae5a2732d4d71bf7f600269fed871002e}{00025}}\ \ \ \ \ \textcolor{keyword}{volatile}\ uint64\_t\ \mbox{\hyperlink{structttak__worker__wrapper_ae5a2732d4d71bf7f600269fed871002e}{jmp\_tid}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00026}\mbox{\hyperlink{worker_8h_a0f54418484a47d2ee2bb2e3d8b471b7d}{00026}}\ \}\ \mbox{\hyperlink{worker_8h_a0f54418484a47d2ee2bb2e3d8b471b7d}{ttak\_worker\_wrapper\_t}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00028}\mbox{\hyperlink{structttak__worker}{00028}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structttak__worker}{ttak\_worker}}\ \{}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00029}\mbox{\hyperlink{structttak__worker_a898cb4a5897d00b4785fd83a3324635b}{00029}}\ \ \ \ \ pthread\_t\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structttak__worker_a898cb4a5897d00b4785fd83a3324635b}{thread}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00030}\mbox{\hyperlink{structttak__worker_ad70ba5d3a87f46d97926801a3787085b}{00030}}\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structttak__thread__pool}{ttak\_thread\_pool}}\ *\mbox{\hyperlink{structttak__worker_ad70ba5d3a87f46d97926801a3787085b}{pool}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00031}\mbox{\hyperlink{structttak__worker_aa43969e853405f2ce3da99a15dc305a9}{00031}}\ \ \ \ \ \mbox{\hyperlink{structttak__worker__wrapper}{ttak\_worker\_wrapper\_t}}\ \ \ *\mbox{\hyperlink{structttak__worker_aa43969e853405f2ce3da99a15dc305a9}{wrapper}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00032}\mbox{\hyperlink{structttak__worker_a94f3f60243a1d3031730716de32b3229}{00032}}\ \ \ \ \ \_Bool\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structttak__worker_a94f3f60243a1d3031730716de32b3229}{should\_stop}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00033}\mbox{\hyperlink{structttak__worker_abc558d47ac88b389c6668b151423d1a9}{00033}}\ \ \ \ \ \textcolor{keywordtype}{int}\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structttak__worker_abc558d47ac88b389c6668b151423d1a9}{exit\_code}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00034}\mbox{\hyperlink{worker_8h_a0003749eead12470661f5e9d7d4cc842}{00034}}\ \}\ \mbox{\hyperlink{worker_8h_a0003749eead12470661f5e9d7d4cc842}{ttak\_worker\_t}};}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00036}\mbox{\hyperlink{worker_8h_afdb21bc290370c6055f5f8ce3e204337}{00036}}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{worker_8h_afdb21bc290370c6055f5f8ce3e204337}{ttak\_worker\_routine}}(\textcolor{keywordtype}{void}\ *arg);}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00037}00037\ \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00038}00038\ \textcolor{comment}{/**}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00039}00039\ \textcolor{comment}{\ *\ @brief\ Aborts\ the\ current\ task\ execution\ using\ longjmp.}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00040}00040\ \textcolor{comment}{\ *\ Must\ be\ called\ from\ within\ a\ worker\ thread\ during\ task\ execution.}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00041}00041\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00042}\mbox{\hyperlink{worker_8h_a64a121d1facc0899dd991c138f56c3be}{00042}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{worker_8h_a64a121d1facc0899dd991c138f56c3be}{ttak\_worker\_abort}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{worker_8h_source_l00044}00044\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ TTAK\_THREAD\_WORKER\_H}}

\end{DoxyCode}
