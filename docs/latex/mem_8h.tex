\doxysection{include/ttak/mem/mem.h File Reference}
\hypertarget{mem_8h}{}\label{mem_8h}\index{include/ttak/mem/mem.h@{include/ttak/mem/mem.h}}


TTAK Unified Memory Subsystem with Lifecycle Management and Hardware Optimization.  


{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$ttak/mem/epoch\+\_\+gc.\+h$>$}\newline
{\ttfamily \#include $<$ttak/types/ttak\+\_\+compiler.\+h$>$}\newline
{\ttfamily \#include $<$stdalign.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include $<$stdatomic.\+h$>$}\newline
Include dependency graph for mem.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mem_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mem_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structttak__mem__header__t}{ttak\+\_\+mem\+\_\+header\+\_\+t}}
\begin{DoxyCompactList}\small\item\em "{}\+Fortress"{} Memory Header stored before user data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{mem_8h_a4c8f2c14a51569a7e6518fe83d873d41}{TTAK\+\_\+\+ATOMIC\+\_\+\+FETCH\+\_\+\+ADD\+\_\+\+U64}}(ptr,  val)~\mbox{\hyperlink{include_2stdatomic_8h_ac0a4bfbcb6b982cae35b44fc104a09b6}{atomic\+\_\+fetch\+\_\+add}}((\mbox{\hyperlink{include_2stdatomic_8h_a94674db2fe3c7496dfdcaa9b81486e79}{\+\_\+\+Atomic}} uint64\+\_\+t \texorpdfstring{$\ast$}{*})(ptr), (val))
\item 
\#define \mbox{\hyperlink{mem_8h_a56bacec5f02dbd8cad7b15e6682fbf20}{TTAK\+\_\+\+CACHE\+\_\+\+LINE\+\_\+\+SIZE}}~64
\begin{DoxyCompactList}\small\item\em Alignment for cache-\/line optimization (64-\/byte). \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{mem_8h_a798ceb4ce7e1d84af3001d7ec38d3da2}{\+\_\+\+\_\+\+TTAK\+\_\+\+UNSAFE\+\_\+\+MEM\+\_\+\+FOREVER\+\_\+\+\_\+}}~((uint64\+\_\+t)-\/1)
\begin{DoxyCompactList}\small\item\em Macro to indicate that the allocated memory should persist forever. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{mem_8h_a02d61fafa21eadc8010ca9803d77bafb}{TTAK\+\_\+\+MAGIC\+\_\+\+NUMBER}}~0x5454414B
\begin{DoxyCompactList}\small\item\em "{}\+Fortress"{} Magic Number for header validation. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{mem_8h_ac5b096c74969e7dbd5e24d44a446c015}{SAFE\+\_\+\+NULL}}~NULL
\begin{DoxyCompactList}\small\item\em Sentinel for invalidated references. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{mem_8h_ac5d995333f6871240af3fda323f9114f}{ttak\+\_\+mem\+\_\+alloc}}(size,  lifetime,  now\+\_\+tick)~\mbox{\hyperlink{mem_8h_acd407700ef90ad55bcec5ae7cf8b94b7}{ttak\+\_\+mem\+\_\+alloc\+\_\+safe}}(size, lifetime, now\+\_\+tick, false, false, true, false, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadab57ac5f60f1170e17ecfe853611ac80a}{TTAK\+\_\+\+MEM\+\_\+\+DEFAULT}})
\item 
\#define \mbox{\hyperlink{mem_8h_a5d8a79f36fb4bd204046ea8834977297}{ttak\+\_\+root\+\_\+alloc}}(size,  lifetime,  now\+\_\+tick)~\mbox{\hyperlink{mem_8h_acd407700ef90ad55bcec5ae7cf8b94b7}{ttak\+\_\+mem\+\_\+alloc\+\_\+safe}}(size, lifetime, now\+\_\+tick, true, true, true, true, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadab57ac5f60f1170e17ecfe853611ac80a}{TTAK\+\_\+\+MEM\+\_\+\+DEFAULT}})
\item 
\#define \mbox{\hyperlink{mem_8h_aebbfb88cdba4d11a524cae2a66972070}{ttak\+\_\+mem\+\_\+alloc\+\_\+with\+\_\+flags}}(size,  lifetime,  now\+\_\+tick,  flags)~\mbox{\hyperlink{mem_8h_acd407700ef90ad55bcec5ae7cf8b94b7}{ttak\+\_\+mem\+\_\+alloc\+\_\+safe}}(size, lifetime, now\+\_\+tick, false, false, true, false, flags)
\item 
\#define \mbox{\hyperlink{mem_8h_a7f181fe8f133af55c3e2bf6e86b53c56}{ttak\+\_\+root\+\_\+alloc\+\_\+with\+\_\+flags}}(size,  lifetime,  now\+\_\+tick,  flags)~\mbox{\hyperlink{mem_8h_acd407700ef90ad55bcec5ae7cf8b94b7}{ttak\+\_\+mem\+\_\+alloc\+\_\+safe}}(size, lifetime, now\+\_\+tick, true, true, true, true, flags)
\item 
\#define \mbox{\hyperlink{mem_8h_a97f451049eaeaf30598a37e13069c15d}{ttak\+\_\+mem\+\_\+realloc}}(ptr,  size,  lifetime,  now\+\_\+tick)~\mbox{\hyperlink{mem_8h_a3ecf5a43780a4a7f1c923b4bc3579464}{ttak\+\_\+mem\+\_\+realloc\+\_\+safe}}(ptr, size, lifetime, now\+\_\+tick, false, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadab57ac5f60f1170e17ecfe853611ac80a}{TTAK\+\_\+\+MEM\+\_\+\+DEFAULT}})
\item 
\#define \mbox{\hyperlink{mem_8h_a6deb46577a7ecf9a5c3178f438da0d5a}{ttak\+\_\+mem\+\_\+realloc\+\_\+with\+\_\+flags}}(ptr,  size,  lifetime,  now\+\_\+tick,  flags)~\mbox{\hyperlink{mem_8h_a3ecf5a43780a4a7f1c923b4bc3579464}{ttak\+\_\+mem\+\_\+realloc\+\_\+safe}}(ptr, size, lifetime, now\+\_\+tick, false, flags)
\item 
\#define \mbox{\hyperlink{mem_8h_a45976fd9be92932992d660f0c2d8255b}{ttak\+\_\+mem\+\_\+dup}}(src,  size,  lifetime,  now\+\_\+tick)~\mbox{\hyperlink{mem_8h_a9017be27d7753e502ed5097ee61fd6c5}{ttak\+\_\+mem\+\_\+dup\+\_\+safe}}(src, size, lifetime, now\+\_\+tick, false, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadab57ac5f60f1170e17ecfe853611ac80a}{TTAK\+\_\+\+MEM\+\_\+\+DEFAULT}})
\item 
\#define \mbox{\hyperlink{mem_8h_a7c0d648c72e9fc2d35932b78f7d08f09}{ttak\+\_\+mem\+\_\+dup\+\_\+with\+\_\+flags}}(src,  size,  lifetime,  now\+\_\+tick,  flags)~\mbox{\hyperlink{mem_8h_a9017be27d7753e502ed5097ee61fd6c5}{ttak\+\_\+mem\+\_\+dup\+\_\+safe}}(src, size, lifetime, now\+\_\+tick, false, flags)
\item 
\#define \mbox{\hyperlink{mem_8h_ae47a1cb6076cec70cf9ea8efc1d5f3ff}{EMBEDDED}}~0
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structttak__mem__header__t}{ttak\+\_\+mem\+\_\+header\+\_\+t}} \mbox{\hyperlink{mem_8h_a574c320689c9aed0ca6559697013d05a}{ttak\+\_\+mem\+\_\+header\+\_\+t}}
\item 
typedef void \mbox{\hyperlink{mem_8h_ab724d37f1a1c16f006309b8b2036b232}{ttak\+\_\+lifecycle\+\_\+obj\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09}{ttak\+\_\+allocation\+\_\+tier\+\_\+t}} \{ \newline
\mbox{\hyperlink{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09a595f90519320f518b18b300dda32e20b}{TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+UNKNOWN}} = 0
, \mbox{\hyperlink{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09a9e6976dc0ef1480c3e57e96db5f4bfb6}{TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+POCKET}}
, \mbox{\hyperlink{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09ab8f812a5db1c25d085adaba58ad0dd4d}{TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+VMA}}
, \mbox{\hyperlink{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09ae827ba58e36f62d2f94beae49c70193a}{TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+SLAB}}
, \newline
\mbox{\hyperlink{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09ab444dde7e67357aeb91dba10444d09dc}{TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+BUDDY}}
, \mbox{\hyperlink{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09a0b65b9c39102ad56c962985bad3d96a0}{TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+GENERAL}}
 \}
\begin{DoxyCompactList}\small\item\em Defines the memory tier used for an allocation. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdad}{ttak\+\_\+mem\+\_\+flags\+\_\+t}} \{ \newline
\mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadab57ac5f60f1170e17ecfe853611ac80a}{TTAK\+\_\+\+MEM\+\_\+\+DEFAULT}} = 0
, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadaa4cff10407296a029dba423e1ac75551}{TTAK\+\_\+\+MEM\+\_\+\+HUGE\+\_\+\+PAGES}} = (1 \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} 0)
, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdada85fc84c07c8164ea4cd8048365cc3e2d}{TTAK\+\_\+\+MEM\+\_\+\+CACHE\+\_\+\+ALIGNED}} = (1 \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} 1)
, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdada0b16ffc2f709ae7e7a5439e0ca8d7d86}{TTAK\+\_\+\+MEM\+\_\+\+STRICT\+\_\+\+CHECK}} = (1 \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} 2)
, \newline
\mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadad33e10539c3604becb675d3d3ec7bf72}{TTAK\+\_\+\+MEM\+\_\+\+LOW\+\_\+\+PRIORITY}} = (1 \texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} 3)
 \}
\begin{DoxyCompactList}\small\item\em Memory allocation behavior flags. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{mem_8h_acd407700ef90ad55bcec5ae7cf8b94b7}{ttak\+\_\+mem\+\_\+alloc\+\_\+safe}} (size\+\_\+t size, uint64\+\_\+t lifetime\+\_\+ticks, uint64\+\_\+t now\+\_\+tick, bool is\+\_\+const, bool is\+\_\+volatile, bool allow\+\_\+direct, bool is\+\_\+root, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdad}{ttak\+\_\+mem\+\_\+flags\+\_\+t}} flags)
\begin{DoxyCompactList}\small\item\em Unified memory allocation with lifecycle management. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{mem_8h_aa3ae2077f369ef1143f07dc791ad481d}{ttak\+\_\+fastalloc}} (\mbox{\hyperlink{epoch__gc_8h_a2f90109b245cba56d85e82cf71a8eef4}{ttak\+\_\+epoch\+\_\+gc\+\_\+t}} \texorpdfstring{$\ast$}{*}gc, size\+\_\+t size, uint64\+\_\+t lifetime\+\_\+ticks, uint64\+\_\+t now\+\_\+tick)
\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{mem_8h_a3ecf5a43780a4a7f1c923b4bc3579464}{ttak\+\_\+mem\+\_\+realloc\+\_\+safe}} (void \texorpdfstring{$\ast$}{*}ptr, size\+\_\+t new\+\_\+size, uint64\+\_\+t lifetime\+\_\+ticks, uint64\+\_\+t now\+\_\+tick, bool is\+\_\+root, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdad}{ttak\+\_\+mem\+\_\+flags\+\_\+t}} flags)
\begin{DoxyCompactList}\small\item\em Reallocates memory with lifecycle management. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{mem_8h_af7ec7267633ddcac6923ca6f73a3bbf0}{ttak\+\_\+dangerous\+\_\+alloc}} (size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Primitive allocator for internal subsystem bootstrap. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{mem_8h_a3718153ec27ff216feedcf12f8583c9c}{ttak\+\_\+dangerous\+\_\+calloc}} (size\+\_\+t nmemb, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Primitive calloc for internal subsystem bootstrap. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mem_8h_adf32b5f9a7de7217eff4987bae8c1515}{ttak\+\_\+dangerous\+\_\+free}} (void \texorpdfstring{$\ast$}{*}ptr)
\begin{DoxyCompactList}\small\item\em Primitive deallocator for internal subsystem cleanup. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mem_8h_afdcd75479e1ca4dde197214d0430de65}{ttak\+\_\+mem\+\_\+free}} (void \texorpdfstring{$\ast$}{*}ptr)
\begin{DoxyCompactList}\small\item\em Frees a memory block and updates usage statistics. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{mem_8h_a9017be27d7753e502ed5097ee61fd6c5}{ttak\+\_\+mem\+\_\+dup\+\_\+safe}} (const void \texorpdfstring{$\ast$}{*}src, size\+\_\+t size, uint64\+\_\+t lifetime\+\_\+ticks, uint64\+\_\+t now\+\_\+tick, bool is\+\_\+root, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdad}{ttak\+\_\+mem\+\_\+flags\+\_\+t}} flags)
\begin{DoxyCompactList}\small\item\em Duplicates a memory block with lifecycle management. \end{DoxyCompactList}\item 
static void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{mem_8h_a1e451c99b337f68893aaf14cd3d1ffa1}{ttak\+\_\+mem\+\_\+access}} (void \texorpdfstring{$\ast$}{*}ptr, uint64\+\_\+t now\+\_\+tick)
\begin{DoxyCompactList}\small\item\em Accesses a memory block, verifying its lifecycle and security. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{mem_8h_a000835e8881250f937ecebbde55ff0dd}{tt\+\_\+inspect\+\_\+dirty\+\_\+pointers}} (uint64\+\_\+t now\+\_\+tick, size\+\_\+t \texorpdfstring{$\ast$}{*}count\+\_\+out)
\begin{DoxyCompactList}\small\item\em Inspects for "{}dirty"{} pointers (expired or over-\/accessed). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mem_8h_a0b04cc34c8514125b98e707d18f74f21}{tt\+\_\+autoclean\+\_\+dirty\+\_\+pointers}} (uint64\+\_\+t now\+\_\+tick)
\begin{DoxyCompactList}\small\item\em Automatically cleans up expired memory blocks. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mem_8h_ae8973d60d53321ee8b36d15b1d7698ea}{ttak\+\_\+mem\+\_\+configure\+\_\+gc}} (uint64\+\_\+t min\+\_\+interval\+\_\+ns, uint64\+\_\+t max\+\_\+interval\+\_\+ns, size\+\_\+t pressure\+\_\+threshold)
\begin{DoxyCompactList}\small\item\em Configures background GC parameters. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{mem_8h_aff328295d8c8a2dc672f74c1fdd8c391}{tt\+\_\+autoclean\+\_\+and\+\_\+inspect}} (uint64\+\_\+t now\+\_\+tick, size\+\_\+t \texorpdfstring{$\ast$}{*}count\+\_\+out)
\begin{DoxyCompactList}\small\item\em Sweeps and returns dirty pointers in a single pass. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mem_8h_adfcac077aeb029c04c4fb47dc33116a0}{ttak\+\_\+mem\+\_\+set\+\_\+trace}} (int enable)
\begin{DoxyCompactList}\small\item\em Sets the global memory tracing flag. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{mem_8h_a901d371e2cc570055bc60bcea5653df5}{ttak\+\_\+mem\+\_\+is\+\_\+trace\+\_\+enabled}} (void)
\begin{DoxyCompactList}\small\item\em Checks if memory tracing is enabled. \end{DoxyCompactList}\item 
static uint32\+\_\+t \mbox{\hyperlink{mem_8h_ad663cf355d411491ef16fbaba940be07}{ttak\+\_\+calc\+\_\+header\+\_\+checksum}} (const \mbox{\hyperlink{structttak__mem__header__t}{ttak\+\_\+mem\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*}h)
\begin{DoxyCompactList}\small\item\em Calculates a 32-\/bit checksum for the memory header. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
TTAK Unified Memory Subsystem with Lifecycle Management and Hardware Optimization. 

This header defines the "{}\+Fortress"{} memory allocation system, which provides\+:
\begin{DoxyItemize}
\item Tiered allocation (Thread-\/\+Local Pockets, Bare-\/\+Metal VMA, System Allocator)
\item Automatic lifecycle management with tick-\/based expiration
\item Security features (Magic numbers, Checksums, Canaries)
\item Hardware optimizations (Cache-\/line alignment, Huge pages) 
\end{DoxyItemize}

Definition in file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.



\doxysubsection{Macro Definition Documentation}
\Hypertarget{mem_8h_a798ceb4ce7e1d84af3001d7ec38d3da2}\label{mem_8h_a798ceb4ce7e1d84af3001d7ec38d3da2} 
\index{mem.h@{mem.h}!\_\_TTAK\_UNSAFE\_MEM\_FOREVER\_\_@{\_\_TTAK\_UNSAFE\_MEM\_FOREVER\_\_}}
\index{\_\_TTAK\_UNSAFE\_MEM\_FOREVER\_\_@{\_\_TTAK\_UNSAFE\_MEM\_FOREVER\_\_}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{\_\_TTAK\_UNSAFE\_MEM\_FOREVER\_\_}{\_\_TTAK\_UNSAFE\_MEM\_FOREVER\_\_}}
{\footnotesize\ttfamily \#define \+\_\+\+\_\+\+TTAK\+\_\+\+UNSAFE\+\_\+\+MEM\+\_\+\+FOREVER\+\_\+\+\_\+~((uint64\+\_\+t)-\/1)}



Macro to indicate that the allocated memory should persist forever. 



Definition at line \mbox{\hyperlink{mem_8h_source_l00051}{51}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_ae47a1cb6076cec70cf9ea8efc1d5f3ff}\label{mem_8h_ae47a1cb6076cec70cf9ea8efc1d5f3ff} 
\index{mem.h@{mem.h}!EMBEDDED@{EMBEDDED}}
\index{EMBEDDED@{EMBEDDED}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{EMBEDDED}{EMBEDDED}}
{\footnotesize\ttfamily \#define EMBEDDED~0}



Definition at line \mbox{\hyperlink{mem_8h_source_l00286}{286}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_ac5b096c74969e7dbd5e24d44a446c015}\label{mem_8h_ac5b096c74969e7dbd5e24d44a446c015} 
\index{mem.h@{mem.h}!SAFE\_NULL@{SAFE\_NULL}}
\index{SAFE\_NULL@{SAFE\_NULL}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{SAFE\_NULL}{SAFE\_NULL}}
{\footnotesize\ttfamily \#define SAFE\+\_\+\+NULL~NULL}



Sentinel for invalidated references. 



Definition at line \mbox{\hyperlink{mem_8h_source_l00061}{61}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_a4c8f2c14a51569a7e6518fe83d873d41}\label{mem_8h_a4c8f2c14a51569a7e6518fe83d873d41} 
\index{mem.h@{mem.h}!TTAK\_ATOMIC\_FETCH\_ADD\_U64@{TTAK\_ATOMIC\_FETCH\_ADD\_U64}}
\index{TTAK\_ATOMIC\_FETCH\_ADD\_U64@{TTAK\_ATOMIC\_FETCH\_ADD\_U64}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{TTAK\_ATOMIC\_FETCH\_ADD\_U64}{TTAK\_ATOMIC\_FETCH\_ADD\_U64}}
{\footnotesize\ttfamily \#define TTAK\+\_\+\+ATOMIC\+\_\+\+FETCH\+\_\+\+ADD\+\_\+\+U64(\begin{DoxyParamCaption}\item[{}]{ptr,  }\item[{}]{val }\end{DoxyParamCaption})~\mbox{\hyperlink{include_2stdatomic_8h_ac0a4bfbcb6b982cae35b44fc104a09b6}{atomic\+\_\+fetch\+\_\+add}}((\mbox{\hyperlink{include_2stdatomic_8h_a94674db2fe3c7496dfdcaa9b81486e79}{\+\_\+\+Atomic}} uint64\+\_\+t \texorpdfstring{$\ast$}{*})(ptr), (val))}



Definition at line \mbox{\hyperlink{mem_8h_source_l00024}{24}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_a56bacec5f02dbd8cad7b15e6682fbf20}\label{mem_8h_a56bacec5f02dbd8cad7b15e6682fbf20} 
\index{mem.h@{mem.h}!TTAK\_CACHE\_LINE\_SIZE@{TTAK\_CACHE\_LINE\_SIZE}}
\index{TTAK\_CACHE\_LINE\_SIZE@{TTAK\_CACHE\_LINE\_SIZE}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{TTAK\_CACHE\_LINE\_SIZE}{TTAK\_CACHE\_LINE\_SIZE}}
{\footnotesize\ttfamily \#define TTAK\+\_\+\+CACHE\+\_\+\+LINE\+\_\+\+SIZE~64}



Alignment for cache-\/line optimization (64-\/byte). 



Definition at line \mbox{\hyperlink{mem_8h_source_l00046}{46}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_a02d61fafa21eadc8010ca9803d77bafb}\label{mem_8h_a02d61fafa21eadc8010ca9803d77bafb} 
\index{mem.h@{mem.h}!TTAK\_MAGIC\_NUMBER@{TTAK\_MAGIC\_NUMBER}}
\index{TTAK\_MAGIC\_NUMBER@{TTAK\_MAGIC\_NUMBER}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{TTAK\_MAGIC\_NUMBER}{TTAK\_MAGIC\_NUMBER}}
{\footnotesize\ttfamily \#define TTAK\+\_\+\+MAGIC\+\_\+\+NUMBER~0x5454414B}



"{}\+Fortress"{} Magic Number for header validation. 



Definition at line \mbox{\hyperlink{mem_8h_source_l00056}{56}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_ac5d995333f6871240af3fda323f9114f}\label{mem_8h_ac5d995333f6871240af3fda323f9114f} 
\index{mem.h@{mem.h}!ttak\_mem\_alloc@{ttak\_mem\_alloc}}
\index{ttak\_mem\_alloc@{ttak\_mem\_alloc}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_alloc}{ttak\_mem\_alloc}}
{\footnotesize\ttfamily \#define ttak\+\_\+mem\+\_\+alloc(\begin{DoxyParamCaption}\item[{}]{size,  }\item[{}]{lifetime,  }\item[{}]{now\+\_\+tick }\end{DoxyParamCaption})~\mbox{\hyperlink{mem_8h_acd407700ef90ad55bcec5ae7cf8b94b7}{ttak\+\_\+mem\+\_\+alloc\+\_\+safe}}(size, lifetime, now\+\_\+tick, false, false, true, false, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadab57ac5f60f1170e17ecfe853611ac80a}{TTAK\+\_\+\+MEM\+\_\+\+DEFAULT}})}



Definition at line \mbox{\hyperlink{mem_8h_source_l00276}{276}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_aebbfb88cdba4d11a524cae2a66972070}\label{mem_8h_aebbfb88cdba4d11a524cae2a66972070} 
\index{mem.h@{mem.h}!ttak\_mem\_alloc\_with\_flags@{ttak\_mem\_alloc\_with\_flags}}
\index{ttak\_mem\_alloc\_with\_flags@{ttak\_mem\_alloc\_with\_flags}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_alloc\_with\_flags}{ttak\_mem\_alloc\_with\_flags}}
{\footnotesize\ttfamily \#define ttak\+\_\+mem\+\_\+alloc\+\_\+with\+\_\+flags(\begin{DoxyParamCaption}\item[{}]{size,  }\item[{}]{lifetime,  }\item[{}]{now\+\_\+tick,  }\item[{}]{flags }\end{DoxyParamCaption})~\mbox{\hyperlink{mem_8h_acd407700ef90ad55bcec5ae7cf8b94b7}{ttak\+\_\+mem\+\_\+alloc\+\_\+safe}}(size, lifetime, now\+\_\+tick, false, false, true, false, flags)}



Definition at line \mbox{\hyperlink{mem_8h_source_l00278}{278}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_a45976fd9be92932992d660f0c2d8255b}\label{mem_8h_a45976fd9be92932992d660f0c2d8255b} 
\index{mem.h@{mem.h}!ttak\_mem\_dup@{ttak\_mem\_dup}}
\index{ttak\_mem\_dup@{ttak\_mem\_dup}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_dup}{ttak\_mem\_dup}}
{\footnotesize\ttfamily \#define ttak\+\_\+mem\+\_\+dup(\begin{DoxyParamCaption}\item[{}]{src,  }\item[{}]{size,  }\item[{}]{lifetime,  }\item[{}]{now\+\_\+tick }\end{DoxyParamCaption})~\mbox{\hyperlink{mem_8h_a9017be27d7753e502ed5097ee61fd6c5}{ttak\+\_\+mem\+\_\+dup\+\_\+safe}}(src, size, lifetime, now\+\_\+tick, false, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadab57ac5f60f1170e17ecfe853611ac80a}{TTAK\+\_\+\+MEM\+\_\+\+DEFAULT}})}



Definition at line \mbox{\hyperlink{mem_8h_source_l00282}{282}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_a7c0d648c72e9fc2d35932b78f7d08f09}\label{mem_8h_a7c0d648c72e9fc2d35932b78f7d08f09} 
\index{mem.h@{mem.h}!ttak\_mem\_dup\_with\_flags@{ttak\_mem\_dup\_with\_flags}}
\index{ttak\_mem\_dup\_with\_flags@{ttak\_mem\_dup\_with\_flags}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_dup\_with\_flags}{ttak\_mem\_dup\_with\_flags}}
{\footnotesize\ttfamily \#define ttak\+\_\+mem\+\_\+dup\+\_\+with\+\_\+flags(\begin{DoxyParamCaption}\item[{}]{src,  }\item[{}]{size,  }\item[{}]{lifetime,  }\item[{}]{now\+\_\+tick,  }\item[{}]{flags }\end{DoxyParamCaption})~\mbox{\hyperlink{mem_8h_a9017be27d7753e502ed5097ee61fd6c5}{ttak\+\_\+mem\+\_\+dup\+\_\+safe}}(src, size, lifetime, now\+\_\+tick, false, flags)}



Definition at line \mbox{\hyperlink{mem_8h_source_l00283}{283}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_a97f451049eaeaf30598a37e13069c15d}\label{mem_8h_a97f451049eaeaf30598a37e13069c15d} 
\index{mem.h@{mem.h}!ttak\_mem\_realloc@{ttak\_mem\_realloc}}
\index{ttak\_mem\_realloc@{ttak\_mem\_realloc}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_realloc}{ttak\_mem\_realloc}}
{\footnotesize\ttfamily \#define ttak\+\_\+mem\+\_\+realloc(\begin{DoxyParamCaption}\item[{}]{ptr,  }\item[{}]{size,  }\item[{}]{lifetime,  }\item[{}]{now\+\_\+tick }\end{DoxyParamCaption})~\mbox{\hyperlink{mem_8h_a3ecf5a43780a4a7f1c923b4bc3579464}{ttak\+\_\+mem\+\_\+realloc\+\_\+safe}}(ptr, size, lifetime, now\+\_\+tick, false, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadab57ac5f60f1170e17ecfe853611ac80a}{TTAK\+\_\+\+MEM\+\_\+\+DEFAULT}})}



Definition at line \mbox{\hyperlink{mem_8h_source_l00280}{280}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_a6deb46577a7ecf9a5c3178f438da0d5a}\label{mem_8h_a6deb46577a7ecf9a5c3178f438da0d5a} 
\index{mem.h@{mem.h}!ttak\_mem\_realloc\_with\_flags@{ttak\_mem\_realloc\_with\_flags}}
\index{ttak\_mem\_realloc\_with\_flags@{ttak\_mem\_realloc\_with\_flags}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_realloc\_with\_flags}{ttak\_mem\_realloc\_with\_flags}}
{\footnotesize\ttfamily \#define ttak\+\_\+mem\+\_\+realloc\+\_\+with\+\_\+flags(\begin{DoxyParamCaption}\item[{}]{ptr,  }\item[{}]{size,  }\item[{}]{lifetime,  }\item[{}]{now\+\_\+tick,  }\item[{}]{flags }\end{DoxyParamCaption})~\mbox{\hyperlink{mem_8h_a3ecf5a43780a4a7f1c923b4bc3579464}{ttak\+\_\+mem\+\_\+realloc\+\_\+safe}}(ptr, size, lifetime, now\+\_\+tick, false, flags)}



Definition at line \mbox{\hyperlink{mem_8h_source_l00281}{281}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_a5d8a79f36fb4bd204046ea8834977297}\label{mem_8h_a5d8a79f36fb4bd204046ea8834977297} 
\index{mem.h@{mem.h}!ttak\_root\_alloc@{ttak\_root\_alloc}}
\index{ttak\_root\_alloc@{ttak\_root\_alloc}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_root\_alloc}{ttak\_root\_alloc}}
{\footnotesize\ttfamily \#define ttak\+\_\+root\+\_\+alloc(\begin{DoxyParamCaption}\item[{}]{size,  }\item[{}]{lifetime,  }\item[{}]{now\+\_\+tick }\end{DoxyParamCaption})~\mbox{\hyperlink{mem_8h_acd407700ef90ad55bcec5ae7cf8b94b7}{ttak\+\_\+mem\+\_\+alloc\+\_\+safe}}(size, lifetime, now\+\_\+tick, true, true, true, true, \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadab57ac5f60f1170e17ecfe853611ac80a}{TTAK\+\_\+\+MEM\+\_\+\+DEFAULT}})}



Definition at line \mbox{\hyperlink{mem_8h_source_l00277}{277}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_a7f181fe8f133af55c3e2bf6e86b53c56}\label{mem_8h_a7f181fe8f133af55c3e2bf6e86b53c56} 
\index{mem.h@{mem.h}!ttak\_root\_alloc\_with\_flags@{ttak\_root\_alloc\_with\_flags}}
\index{ttak\_root\_alloc\_with\_flags@{ttak\_root\_alloc\_with\_flags}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_root\_alloc\_with\_flags}{ttak\_root\_alloc\_with\_flags}}
{\footnotesize\ttfamily \#define ttak\+\_\+root\+\_\+alloc\+\_\+with\+\_\+flags(\begin{DoxyParamCaption}\item[{}]{size,  }\item[{}]{lifetime,  }\item[{}]{now\+\_\+tick,  }\item[{}]{flags }\end{DoxyParamCaption})~\mbox{\hyperlink{mem_8h_acd407700ef90ad55bcec5ae7cf8b94b7}{ttak\+\_\+mem\+\_\+alloc\+\_\+safe}}(size, lifetime, now\+\_\+tick, true, true, true, true, flags)}



Definition at line \mbox{\hyperlink{mem_8h_source_l00279}{279}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.



\doxysubsection{Typedef Documentation}
\Hypertarget{mem_8h_ab724d37f1a1c16f006309b8b2036b232}\label{mem_8h_ab724d37f1a1c16f006309b8b2036b232} 
\index{mem.h@{mem.h}!ttak\_lifecycle\_obj\_t@{ttak\_lifecycle\_obj\_t}}
\index{ttak\_lifecycle\_obj\_t@{ttak\_lifecycle\_obj\_t}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_lifecycle\_obj\_t}{ttak\_lifecycle\_obj\_t}}
{\footnotesize\ttfamily typedef void \mbox{\hyperlink{mem_8h_ab724d37f1a1c16f006309b8b2036b232}{ttak\+\_\+lifecycle\+\_\+obj\+\_\+t}}}



Definition at line \mbox{\hyperlink{mem_8h_source_l00275}{275}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_a574c320689c9aed0ca6559697013d05a}\label{mem_8h_a574c320689c9aed0ca6559697013d05a} 
\index{mem.h@{mem.h}!ttak\_mem\_header\_t@{ttak\_mem\_header\_t}}
\index{ttak\_mem\_header\_t@{ttak\_mem\_header\_t}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_header\_t}{ttak\_mem\_header\_t}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structttak__mem__header__t}{ttak\+\_\+mem\+\_\+header\+\_\+t}} \mbox{\hyperlink{structttak__mem__header__t}{ttak\+\_\+mem\+\_\+header\+\_\+t}}}



\doxysubsection{Enumeration Type Documentation}
\Hypertarget{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09}\label{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09} 
\index{mem.h@{mem.h}!ttak\_allocation\_tier\_t@{ttak\_allocation\_tier\_t}}
\index{ttak\_allocation\_tier\_t@{ttak\_allocation\_tier\_t}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_allocation\_tier\_t}{ttak\_allocation\_tier\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09}{ttak\+\_\+allocation\+\_\+tier\+\_\+t}}}



Defines the memory tier used for an allocation. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{TTAK\_ALLOC\_TIER\_UNKNOWN@{TTAK\_ALLOC\_TIER\_UNKNOWN}!mem.h@{mem.h}}\index{mem.h@{mem.h}!TTAK\_ALLOC\_TIER\_UNKNOWN@{TTAK\_ALLOC\_TIER\_UNKNOWN}}}\Hypertarget{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09a595f90519320f518b18b300dda32e20b}\label{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09a595f90519320f518b18b300dda32e20b} 
TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+UNKNOWN&Tier unknown or corrupted \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TTAK\_ALLOC\_TIER\_POCKET@{TTAK\_ALLOC\_TIER\_POCKET}!mem.h@{mem.h}}\index{mem.h@{mem.h}!TTAK\_ALLOC\_TIER\_POCKET@{TTAK\_ALLOC\_TIER\_POCKET}}}\Hypertarget{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09a9e6976dc0ef1480c3e57e96db5f4bfb6}\label{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09a9e6976dc0ef1480c3e57e96db5f4bfb6} 
TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+POCKET&Allocated from a Thread-\/\+Local Pocket (Small objects) \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TTAK\_ALLOC\_TIER\_VMA@{TTAK\_ALLOC\_TIER\_VMA}!mem.h@{mem.h}}\index{mem.h@{mem.h}!TTAK\_ALLOC\_TIER\_VMA@{TTAK\_ALLOC\_TIER\_VMA}}}\Hypertarget{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09ab8f812a5db1c25d085adaba58ad0dd4d}\label{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09ab8f812a5db1c25d085adaba58ad0dd4d} 
TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+VMA&Allocated from Bare-\/\+Metal VMA (Medium objects) \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TTAK\_ALLOC\_TIER\_SLAB@{TTAK\_ALLOC\_TIER\_SLAB}!mem.h@{mem.h}}\index{mem.h@{mem.h}!TTAK\_ALLOC\_TIER\_SLAB@{TTAK\_ALLOC\_TIER\_SLAB}}}\Hypertarget{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09ae827ba58e36f62d2f94beae49c70193a}\label{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09ae827ba58e36f62d2f94beae49c70193a} 
TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+SLAB&Allocated from a Slab allocator (Reserved) \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TTAK\_ALLOC\_TIER\_BUDDY@{TTAK\_ALLOC\_TIER\_BUDDY}!mem.h@{mem.h}}\index{mem.h@{mem.h}!TTAK\_ALLOC\_TIER\_BUDDY@{TTAK\_ALLOC\_TIER\_BUDDY}}}\Hypertarget{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09ab444dde7e67357aeb91dba10444d09dc}\label{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09ab444dde7e67357aeb91dba10444d09dc} 
TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+BUDDY&Allocated from the Buddy System (Embedded Mode) \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TTAK\_ALLOC\_TIER\_GENERAL@{TTAK\_ALLOC\_TIER\_GENERAL}!mem.h@{mem.h}}\index{mem.h@{mem.h}!TTAK\_ALLOC\_TIER\_GENERAL@{TTAK\_ALLOC\_TIER\_GENERAL}}}\Hypertarget{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09a0b65b9c39102ad56c962985bad3d96a0}\label{mem_8h_a05a24acbd6ba6bb3693aecdc12d0ee09a0b65b9c39102ad56c962985bad3d96a0} 
TTAK\+\_\+\+ALLOC\+\_\+\+TIER\+\_\+\+GENERAL&Allocated via general system allocator (Large objects) \\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{mem_8h_source_l00034}{34}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdad}\label{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdad} 
\index{mem.h@{mem.h}!ttak\_mem\_flags\_t@{ttak\_mem\_flags\_t}}
\index{ttak\_mem\_flags\_t@{ttak\_mem\_flags\_t}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_flags\_t}{ttak\_mem\_flags\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdad}{ttak\+\_\+mem\+\_\+flags\+\_\+t}}}



Memory allocation behavior flags. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{TTAK\_MEM\_DEFAULT@{TTAK\_MEM\_DEFAULT}!mem.h@{mem.h}}\index{mem.h@{mem.h}!TTAK\_MEM\_DEFAULT@{TTAK\_MEM\_DEFAULT}}}\Hypertarget{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadab57ac5f60f1170e17ecfe853611ac80a}\label{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadab57ac5f60f1170e17ecfe853611ac80a} 
TTAK\+\_\+\+MEM\+\_\+\+DEFAULT&Default allocation behavior \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TTAK\_MEM\_HUGE\_PAGES@{TTAK\_MEM\_HUGE\_PAGES}!mem.h@{mem.h}}\index{mem.h@{mem.h}!TTAK\_MEM\_HUGE\_PAGES@{TTAK\_MEM\_HUGE\_PAGES}}}\Hypertarget{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadaa4cff10407296a029dba423e1ac75551}\label{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadaa4cff10407296a029dba423e1ac75551} 
TTAK\+\_\+\+MEM\+\_\+\+HUGE\+\_\+\+PAGES&Try to use 2MB/1\+GB pages \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TTAK\_MEM\_CACHE\_ALIGNED@{TTAK\_MEM\_CACHE\_ALIGNED}!mem.h@{mem.h}}\index{mem.h@{mem.h}!TTAK\_MEM\_CACHE\_ALIGNED@{TTAK\_MEM\_CACHE\_ALIGNED}}}\Hypertarget{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdada85fc84c07c8164ea4cd8048365cc3e2d}\label{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdada85fc84c07c8164ea4cd8048365cc3e2d} 
TTAK\+\_\+\+MEM\+\_\+\+CACHE\+\_\+\+ALIGNED&Force 64-\/byte cache alignment \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TTAK\_MEM\_STRICT\_CHECK@{TTAK\_MEM\_STRICT\_CHECK}!mem.h@{mem.h}}\index{mem.h@{mem.h}!TTAK\_MEM\_STRICT\_CHECK@{TTAK\_MEM\_STRICT\_CHECK}}}\Hypertarget{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdada0b16ffc2f709ae7e7a5439e0ca8d7d86}\label{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdada0b16ffc2f709ae7e7a5439e0ca8d7d86} 
TTAK\+\_\+\+MEM\+\_\+\+STRICT\+\_\+\+CHECK&Enable strict boundary/canary checks \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TTAK\_MEM\_LOW\_PRIORITY@{TTAK\_MEM\_LOW\_PRIORITY}!mem.h@{mem.h}}\index{mem.h@{mem.h}!TTAK\_MEM\_LOW\_PRIORITY@{TTAK\_MEM\_LOW\_PRIORITY}}}\Hypertarget{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadad33e10539c3604becb675d3d3ec7bf72}\label{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdadad33e10539c3604becb675d3d3ec7bf72} 
TTAK\+\_\+\+MEM\+\_\+\+LOW\+\_\+\+PRIORITY&Reject if under memory pressure/high friction \\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{mem_8h_source_l00098}{98}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.



\doxysubsection{Function Documentation}
\Hypertarget{mem_8h_aff328295d8c8a2dc672f74c1fdd8c391}\label{mem_8h_aff328295d8c8a2dc672f74c1fdd8c391} 
\index{mem.h@{mem.h}!tt\_autoclean\_and\_inspect@{tt\_autoclean\_and\_inspect}}
\index{tt\_autoclean\_and\_inspect@{tt\_autoclean\_and\_inspect}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{tt\_autoclean\_and\_inspect()}{tt\_autoclean\_and\_inspect()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*} tt\+\_\+autoclean\+\_\+and\+\_\+inspect (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{now\+\_\+tick,  }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{count\+\_\+out }\end{DoxyParamCaption})}



Sweeps and returns dirty pointers in a single pass. 


\begin{DoxyParams}{Parameters}
{\em now\+\_\+tick} & Current timestamp. \\
\hline
{\em count\+\_\+out} & Pointer to store found count. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Array of dirty pointers. 
\end{DoxyReturn}
\Hypertarget{mem_8h_a0b04cc34c8514125b98e707d18f74f21}\label{mem_8h_a0b04cc34c8514125b98e707d18f74f21} 
\index{mem.h@{mem.h}!tt\_autoclean\_dirty\_pointers@{tt\_autoclean\_dirty\_pointers}}
\index{tt\_autoclean\_dirty\_pointers@{tt\_autoclean\_dirty\_pointers}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{tt\_autoclean\_dirty\_pointers()}{tt\_autoclean\_dirty\_pointers()}}
{\footnotesize\ttfamily void tt\+\_\+autoclean\+\_\+dirty\+\_\+pointers (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{now\+\_\+tick }\end{DoxyParamCaption})}



Automatically cleans up expired memory blocks. 


\begin{DoxyParams}{Parameters}
{\em now\+\_\+tick} & Current timestamp. \\
\hline
\end{DoxyParams}
\Hypertarget{mem_8h_a000835e8881250f937ecebbde55ff0dd}\label{mem_8h_a000835e8881250f937ecebbde55ff0dd} 
\index{mem.h@{mem.h}!tt\_inspect\_dirty\_pointers@{tt\_inspect\_dirty\_pointers}}
\index{tt\_inspect\_dirty\_pointers@{tt\_inspect\_dirty\_pointers}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{tt\_inspect\_dirty\_pointers()}{tt\_inspect\_dirty\_pointers()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*} tt\+\_\+inspect\+\_\+dirty\+\_\+pointers (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{now\+\_\+tick,  }\item[{size\+\_\+t \texorpdfstring{$\ast$}{*}}]{count\+\_\+out }\end{DoxyParamCaption})}



Inspects for "{}dirty"{} pointers (expired or over-\/accessed). 


\begin{DoxyParams}{Parameters}
{\em now\+\_\+tick} & Current timestamp. \\
\hline
{\em count\+\_\+out} & Pointer to store the number of dirty pointers found. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Array of pointers (caller must free), or NULL. 
\end{DoxyReturn}
\Hypertarget{mem_8h_ad663cf355d411491ef16fbaba940be07}\label{mem_8h_ad663cf355d411491ef16fbaba940be07} 
\index{mem.h@{mem.h}!ttak\_calc\_header\_checksum@{ttak\_calc\_header\_checksum}}
\index{ttak\_calc\_header\_checksum@{ttak\_calc\_header\_checksum}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_calc\_header\_checksum()}{ttak\_calc\_header\_checksum()}}
{\footnotesize\ttfamily static uint32\+\_\+t ttak\+\_\+calc\+\_\+header\+\_\+checksum (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structttak__mem__header__t}{ttak\+\_\+mem\+\_\+header\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{h }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Calculates a 32-\/bit checksum for the memory header. 


\begin{DoxyParams}{Parameters}
{\em h} & Pointer to the header. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Calculated checksum. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{mem_8h_source_l00253}{253}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_af7ec7267633ddcac6923ca6f73a3bbf0}\label{mem_8h_af7ec7267633ddcac6923ca6f73a3bbf0} 
\index{mem.h@{mem.h}!ttak\_dangerous\_alloc@{ttak\_dangerous\_alloc}}
\index{ttak\_dangerous\_alloc@{ttak\_dangerous\_alloc}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_dangerous\_alloc()}{ttak\_dangerous\_alloc()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*} ttak\+\_\+dangerous\+\_\+alloc (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}



Primitive allocator for internal subsystem bootstrap. 

Bypasses all managed logic (Header, Map, Tree) to prevent recursive cycles during early initialization of the epoch or memory subsystems.


\begin{DoxyParams}{Parameters}
{\em size} & Number of bytes requested. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to zeroed user memory (64-\/byte aligned), or NULL on failure. 
\end{DoxyReturn}
\Hypertarget{mem_8h_a3718153ec27ff216feedcf12f8583c9c}\label{mem_8h_a3718153ec27ff216feedcf12f8583c9c} 
\index{mem.h@{mem.h}!ttak\_dangerous\_calloc@{ttak\_dangerous\_calloc}}
\index{ttak\_dangerous\_calloc@{ttak\_dangerous\_calloc}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_dangerous\_calloc()}{ttak\_dangerous\_calloc()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*} ttak\+\_\+dangerous\+\_\+calloc (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{nmemb,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}



Primitive calloc for internal subsystem bootstrap. 


\begin{DoxyParams}{Parameters}
{\em nmemb} & Number of elements. \\
\hline
{\em size} & Size of each element. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to zeroed user memory (64-\/byte aligned), or NULL on failure. 
\end{DoxyReturn}
\Hypertarget{mem_8h_adf32b5f9a7de7217eff4987bae8c1515}\label{mem_8h_adf32b5f9a7de7217eff4987bae8c1515} 
\index{mem.h@{mem.h}!ttak\_dangerous\_free@{ttak\_dangerous\_free}}
\index{ttak\_dangerous\_free@{ttak\_dangerous\_free}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_dangerous\_free()}{ttak\_dangerous\_free()}}
{\footnotesize\ttfamily void ttak\+\_\+dangerous\+\_\+free (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{ptr }\end{DoxyParamCaption})}



Primitive deallocator for internal subsystem cleanup. 

Directly returns memory to the underlying system allocator or buddy pool without performing any managed header or checksum validations.


\begin{DoxyParams}{Parameters}
{\em ptr} & Pointer to memory allocated via ttak\+\_\+dangerous\+\_\+alloc. \\
\hline
\end{DoxyParams}
\Hypertarget{mem_8h_aa3ae2077f369ef1143f07dc791ad481d}\label{mem_8h_aa3ae2077f369ef1143f07dc791ad481d} 
\index{mem.h@{mem.h}!ttak\_fastalloc@{ttak\_fastalloc}}
\index{ttak\_fastalloc@{ttak\_fastalloc}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_fastalloc()}{ttak\_fastalloc()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*} ttak\+\_\+fastalloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{epoch__gc_8h_a2f90109b245cba56d85e82cf71a8eef4}{ttak\+\_\+epoch\+\_\+gc\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{gc,  }\item[{size\+\_\+t}]{size,  }\item[{uint64\+\_\+t}]{lifetime\+\_\+ticks,  }\item[{uint64\+\_\+t}]{now\+\_\+tick }\end{DoxyParamCaption})}

\Hypertarget{mem_8h_a1e451c99b337f68893aaf14cd3d1ffa1}\label{mem_8h_a1e451c99b337f68893aaf14cd3d1ffa1} 
\index{mem.h@{mem.h}!ttak\_mem\_access@{ttak\_mem\_access}}
\index{ttak\_mem\_access@{ttak\_mem\_access}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_access()}{ttak\_mem\_access()}}
{\footnotesize\ttfamily static void \texorpdfstring{$\ast$}{*} ttak\+\_\+mem\+\_\+access (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{ptr,  }\item[{uint64\+\_\+t}]{now\+\_\+tick }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Accesses a memory block, verifying its lifecycle and security. 


\begin{DoxyParams}{Parameters}
{\em ptr} & Pointer to user memory. \\
\hline
{\em now\+\_\+tick} & Current timestamp in ticks. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Validated pointer, or NULL if security check fails or block is expired. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{mem_8h_source_l00193}{193}} of file \mbox{\hyperlink{mem_8h_source}{mem.\+h}}.

\Hypertarget{mem_8h_acd407700ef90ad55bcec5ae7cf8b94b7}\label{mem_8h_acd407700ef90ad55bcec5ae7cf8b94b7} 
\index{mem.h@{mem.h}!ttak\_mem\_alloc\_safe@{ttak\_mem\_alloc\_safe}}
\index{ttak\_mem\_alloc\_safe@{ttak\_mem\_alloc\_safe}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_alloc\_safe()}{ttak\_mem\_alloc\_safe()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*} ttak\+\_\+mem\+\_\+alloc\+\_\+safe (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{size,  }\item[{uint64\+\_\+t}]{lifetime\+\_\+ticks,  }\item[{uint64\+\_\+t}]{now\+\_\+tick,  }\item[{bool}]{is\+\_\+const,  }\item[{bool}]{is\+\_\+volatile,  }\item[{bool}]{allow\+\_\+direct,  }\item[{bool}]{is\+\_\+root,  }\item[{\mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdad}{ttak\+\_\+mem\+\_\+flags\+\_\+t}}}]{flags }\end{DoxyParamCaption})}



Unified memory allocation with lifecycle management. 


\begin{DoxyParams}{Parameters}
{\em size} & Number of bytes requested. \\
\hline
{\em lifetime\+\_\+ticks} & Lifetime hint in ticks ({\bfseries{TTAK\+\_\+\+UNSAFE\+\_\+\+MEM\+\_\+\+FOREVER}} for infinite). \\
\hline
{\em now\+\_\+tick} & Current timestamp in ticks. \\
\hline
{\em is\+\_\+const} & Marks the buffer as immutable. \\
\hline
{\em is\+\_\+volatile} & Indicates volatile access patterns. \\
\hline
{\em allow\+\_\+direct} & If false, direct access via ttak\+\_\+mem\+\_\+access is restricted. \\
\hline
{\em is\+\_\+root} & Marks the allocation as a root for garbage collection. \\
\hline
{\em flags} & Allocation behavior flags. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to zeroed user memory, or NULL on failure. 
\end{DoxyReturn}
\Hypertarget{mem_8h_ae8973d60d53321ee8b36d15b1d7698ea}\label{mem_8h_ae8973d60d53321ee8b36d15b1d7698ea} 
\index{mem.h@{mem.h}!ttak\_mem\_configure\_gc@{ttak\_mem\_configure\_gc}}
\index{ttak\_mem\_configure\_gc@{ttak\_mem\_configure\_gc}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_configure\_gc()}{ttak\_mem\_configure\_gc()}}
{\footnotesize\ttfamily void ttak\+\_\+mem\+\_\+configure\+\_\+gc (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{min\+\_\+interval\+\_\+ns,  }\item[{uint64\+\_\+t}]{max\+\_\+interval\+\_\+ns,  }\item[{size\+\_\+t}]{pressure\+\_\+threshold }\end{DoxyParamCaption})}



Configures background GC parameters. 


\begin{DoxyParams}{Parameters}
{\em min\+\_\+interval\+\_\+ns} & Minimum sweep interval. \\
\hline
{\em max\+\_\+interval\+\_\+ns} & Maximum sweep interval. \\
\hline
{\em pressure\+\_\+threshold} & Memory pressure threshold to trigger damping. \\
\hline
\end{DoxyParams}
\Hypertarget{mem_8h_a9017be27d7753e502ed5097ee61fd6c5}\label{mem_8h_a9017be27d7753e502ed5097ee61fd6c5} 
\index{mem.h@{mem.h}!ttak\_mem\_dup\_safe@{ttak\_mem\_dup\_safe}}
\index{ttak\_mem\_dup\_safe@{ttak\_mem\_dup\_safe}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_dup\_safe()}{ttak\_mem\_dup\_safe()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*} ttak\+\_\+mem\+\_\+dup\+\_\+safe (\begin{DoxyParamCaption}\item[{const void \texorpdfstring{$\ast$}{*}}]{src,  }\item[{size\+\_\+t}]{size,  }\item[{uint64\+\_\+t}]{lifetime\+\_\+ticks,  }\item[{uint64\+\_\+t}]{now\+\_\+tick,  }\item[{bool}]{is\+\_\+root,  }\item[{\mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdad}{ttak\+\_\+mem\+\_\+flags\+\_\+t}}}]{flags }\end{DoxyParamCaption})}



Duplicates a memory block with lifecycle management. 


\begin{DoxyParams}{Parameters}
{\em src} & Source memory block. \\
\hline
{\em size} & Number of bytes to copy. \\
\hline
{\em lifetime\+\_\+ticks} & Updated lifetime hint. \\
\hline
{\em now\+\_\+tick} & Current timestamp in ticks. \\
\hline
{\em is\+\_\+root} & Whether the new allocation is a root node. \\
\hline
{\em flags} & Allocation behavior flags. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Duplicated pointer, or NULL on failure. 
\end{DoxyReturn}
\Hypertarget{mem_8h_afdcd75479e1ca4dde197214d0430de65}\label{mem_8h_afdcd75479e1ca4dde197214d0430de65} 
\index{mem.h@{mem.h}!ttak\_mem\_free@{ttak\_mem\_free}}
\index{ttak\_mem\_free@{ttak\_mem\_free}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_free()}{ttak\_mem\_free()}}
{\footnotesize\ttfamily void ttak\+\_\+mem\+\_\+free (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{ptr }\end{DoxyParamCaption})}



Frees a memory block and updates usage statistics. 


\begin{DoxyParams}{Parameters}
{\em ptr} & Pointer to user memory. \\
\hline
\end{DoxyParams}
\Hypertarget{mem_8h_a901d371e2cc570055bc60bcea5653df5}\label{mem_8h_a901d371e2cc570055bc60bcea5653df5} 
\index{mem.h@{mem.h}!ttak\_mem\_is\_trace\_enabled@{ttak\_mem\_is\_trace\_enabled}}
\index{ttak\_mem\_is\_trace\_enabled@{ttak\_mem\_is\_trace\_enabled}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_is\_trace\_enabled()}{ttak\_mem\_is\_trace\_enabled()}}
{\footnotesize\ttfamily int ttak\+\_\+mem\+\_\+is\+\_\+trace\+\_\+enabled (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Checks if memory tracing is enabled. 

\begin{DoxyReturn}{Returns}
Non-\/zero if enabled. 
\end{DoxyReturn}
\Hypertarget{mem_8h_a3ecf5a43780a4a7f1c923b4bc3579464}\label{mem_8h_a3ecf5a43780a4a7f1c923b4bc3579464} 
\index{mem.h@{mem.h}!ttak\_mem\_realloc\_safe@{ttak\_mem\_realloc\_safe}}
\index{ttak\_mem\_realloc\_safe@{ttak\_mem\_realloc\_safe}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_realloc\_safe()}{ttak\_mem\_realloc\_safe()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*} ttak\+\_\+mem\+\_\+realloc\+\_\+safe (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{ptr,  }\item[{size\+\_\+t}]{new\+\_\+size,  }\item[{uint64\+\_\+t}]{lifetime\+\_\+ticks,  }\item[{uint64\+\_\+t}]{now\+\_\+tick,  }\item[{bool}]{is\+\_\+root,  }\item[{\mbox{\hyperlink{mem_8h_a05020ce7df6068f7d7f515ee4ea9cdad}{ttak\+\_\+mem\+\_\+flags\+\_\+t}}}]{flags }\end{DoxyParamCaption})}



Reallocates memory with lifecycle management. 


\begin{DoxyParams}{Parameters}
{\em ptr} & Existing allocation pointer. \\
\hline
{\em new\+\_\+size} & Requested new size. \\
\hline
{\em lifetime\+\_\+ticks} & Updated lifetime hint. \\
\hline
{\em now\+\_\+tick} & Current timestamp in ticks. \\
\hline
{\em is\+\_\+root} & Whether the new allocation is a root node. \\
\hline
{\em flags} & Allocation behavior flags. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Reallocated pointer, or NULL on failure. 
\end{DoxyReturn}
\Hypertarget{mem_8h_adfcac077aeb029c04c4fb47dc33116a0}\label{mem_8h_adfcac077aeb029c04c4fb47dc33116a0} 
\index{mem.h@{mem.h}!ttak\_mem\_set\_trace@{ttak\_mem\_set\_trace}}
\index{ttak\_mem\_set\_trace@{ttak\_mem\_set\_trace}!mem.h@{mem.h}}
\doxysubsubsection{\texorpdfstring{ttak\_mem\_set\_trace()}{ttak\_mem\_set\_trace()}}
{\footnotesize\ttfamily void ttak\+\_\+mem\+\_\+set\+\_\+trace (\begin{DoxyParamCaption}\item[{int}]{enable }\end{DoxyParamCaption})}



Sets the global memory tracing flag. 


\begin{DoxyParams}{Parameters}
{\em enable} & Non-\/zero to enable JSON tracing to stderr. \\
\hline
\end{DoxyParams}
