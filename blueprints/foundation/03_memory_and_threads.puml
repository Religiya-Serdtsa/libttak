@startuml
!theme plain
hide empty members

package "Memory Management" {
    class ttak_mem_t {
        + alloc()
        + free()
    }
}

package "Threading & Sync" {
    class ttak_thread_pool_t {
        + workers : ttak_worker_t*
        + task_queue : ttak_queue_t*
        + lock : pthread_mutex_t
    }

    class ttak_worker_t {
        + thread : pthread_t
        + pool : ttak_thread_pool_t*
    }

    class ttak_spin_t {
        + flag : atomic_flag
        __
        + lock()
        + trylock()
        + unlock()
    }

    class ttak_backoff_t {
        + count : int
        + limit : int
        __
        + pause()
    }

    class ttak_rwlock_t {
        + rdlock()
        + wrlock()
        + unlock()
    }
}

ttak_thread_pool_t --> ttak_mem_t : uses
@enduml